telemetry:
  instrumentation:
    instruments:
      default_requirement_level: required
      router:
        http.server.request.duration:
          attributes:
            server.port: false
            server.address: false
            http.response.status_code:
              alias: status
  exporters:
    metrics:
      common:
        service_name: router
        views:
          # Different rename than the original config
          - name: http.server.request.duration
            rename: reloaded.http.duration
          - name: apollo.router.operations
            rename: reloaded.operations
      otlp:
        enabled: true
        endpoint: <otel-collector-endpoint>/metrics
        protocol: http
        batch_processor:
          scheduled_delay: 10ms
override_subgraph_url:
  products: http://localhost:4005
include_subgraph_errors:
  all: true
supergraph:
  introspection: true
