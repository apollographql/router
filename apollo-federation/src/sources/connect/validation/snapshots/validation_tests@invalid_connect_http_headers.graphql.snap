---
source: apollo-federation/src/sources/connect/validation/mod.rs
expression: "format!(\"{:#?}\", errors)"
input_file: apollo-federation/src/sources/connect/validation/test_data/invalid_connect_http_headers.graphql
---
[
    Message {
        code: MissingHeaderSource,
        message: "`@connect(http.headers:)` on `Query.resources` must include either a `from` or `value` argument.",
        locations: [
            9:18..23:10,
        ],
    },
    Message {
        code: GraphQLError,
        message: "`@connect(http.headers:)` on `Query.resources` must include a `name` value.",
        locations: [
            9:18..23:10,
        ],
    },
    Message {
        code: InvalidHttpHeaderMapping,
        message: "`@connect(http.headers:)` on `Query.resources` uses both `from` and `value` keys together. Please choose only one.",
        locations: [
            14:43..14:59,
            14:68..14:79,
        ],
    },
    Message {
        code: HttpHeaderNameCollision,
        message: "Duplicate header names are not allowed. The header name 'x-name-collision' at `@connect(http.headers:)` on `Query.resources` is already defined.",
        locations: [
            16:19..16:37,
            15:19..15:37,
        ],
    },
    Message {
        code: InvalidHttpHeaderName,
        message: "The value `<Invalid-Header>` for `name` at `@connect(http.headers:)` on `Query.resources` must be a valid HTTP header name.",
        locations: [
            17:19..17:37,
        ],
    },
    Message {
        code: InvalidHttpHeaderName,
        message: "The value `<Invalid-Header>` for `from` at `@connect(http.headers:)` on `Query.resources` must be a valid HTTP header name.",
        locations: [
            18:43..18:61,
        ],
    },
    Message {
        code: InvalidHttpHeaderValue,
        message: "The value `  Value with ðŸ˜Š emoji and newline  \n ` at `@connect(http.headers:)` on `Query.resources` is an invalid HTTP header",
        locations: [
            21:20..21:62,
        ],
    },
    Message {
        code: InvalidHeader,
        message: "In `@connect(http.headers:)` on `Query.resources` header 'content-length' is reserved and cannot be set by a connector",
        locations: [
            23:19..23:35,
        ],
    },
    Message {
        code: InvalidHeader,
        message: "In `@connect(http.headers:)` on `Query.resources` header 'content-type' can't be set dynamically, only via `value`",
        locations: [
            24:19..24:33,
        ],
    },
]
