{
  extends: [
    'config:recommended',
    ':semanticCommits',
  ],
  customManagers: [
    {
      customType: 'regex',
      managerFilePatterns: [
        '/^\\.tool-versions$/',
        '/(^|/)Dockerfile[^/]*$/',
        '/^rust-toolchain\\.toml$/',
        '/^docs/.*?\\.mdx$/',
        '/^.config/mise/.*?\\.toml$/',
        '/^apollo-router/Cargo\\.toml$/',
        '/^apollo-router/README\\.md$/',
      ],
      matchStrings: [
        '(#|<!--)\\s*renovate-automation: rustc version\\s*(?:-->)?\\n[^.]*?(?<currentValue>[0-9]+\\.[0-9]+\\.[0-9]+)\\b',
      ],
      depNameTemplate: 'rust',
      datasourceTemplate: 'docker',
    },
  ],
  packageRules: [
    {
      matchPackageNames: [
        'rust',
      ],
      matchManagers: [
        'dockerfile',
        'mise',
      ],
      enabled: false,
    },
    {
      matchPackageNames: [
        'rust',
      ],
      matchManagers: 'regex',
      groupName: 'rustc',
      branchName: '{{{branchPrefix}}}rustc',
    },
    {
      matchCurrentVersion: '>= 1.0.0',
      matchManagers: [
        'cargo',
        'npm',
      ],
      matchUpdateTypes: [
        'minor',
        'patch',
        'pin',
        'digest',
      ],
      groupName: 'all non-major packages >= 1.0',
      groupSlug: 'all-non-major-gte-1.0',
      automerge: true,
    },
    {
      matchManagers: [
        'cargo',
      ],
      groupName: 'cargo tracing packages',
      groupSlug: 'cargo-tracing-packages',
      dependencyDashboardApproval: true,
      matchPackageNames: [
        '/^tracing/',
        '/^opentelemetry/',
      ],
    },
    {
      groupName: 'apollo-rs crates',
      groupSlug: 'rust-apollo-rs-updates',
      matchManagers: [
        'cargo',
      ],
      automerge: false,
      matchPackageNames: [
        '/^apollo-/',
      ],
    },
    {
      groupName: 'rand crates',
      groupSlug: 'rust-rand',
      matchManagers: [
        'cargo',
      ],
      matchPackageNames: [
        '/^rand$/',
        '/^rand[-_]/',
      ],
    },
  ],
}
