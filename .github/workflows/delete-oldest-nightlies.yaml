name: 'Delete Oldest Nightly Images'
run-name: "{{ github.actor }} is deleting ${{ inputs.num_old_versions_to_delete }} oldest nightlies"
on:
  workflow_dispatch:
    inputs:
      num_old_versions_to_delete:
        description: 'Number of oldest `nightly/router` images to delete'
        required: true
        type: number 
jobs:
  delete-images:
    name: Delete images
    steps:
      - name: nightly/docker 
        uses: actions/delete-package-versions@v5
        with:
          package-name: 'nightly/router'
          package-type: 'container'
          num-old-versions-to-delete: ${{ inputs.num_old_versions_to_delete }}