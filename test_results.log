[0;32mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mRouter Startup Test Suite[0m
[0;32mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;34mSetting up test files...[0m
[0;32mTest files created[0m

[0;32mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mCategory 1: File-based Schema (--supergraph)[0m
[0;32mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mTest: 1.1[0m
[0;34mDescription: File schema, no config, no hot reload[0m
[0;34mCommand: ./target/release/router --supergraph ./test_startup/supergraph.graphql[0m
[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;32mâœ“ PASSED - Router started successfully[0m
[0;32mFound 'running' message in logs[0m
{"timestamp":"2025-11-12T19:34:08.229264000Z","level":"INFO","message":"state machine transitioned","event":"UpdateConfiguration","state":"Running","previous_state":"Startup","target":"apollo_router::state_machine","resource":{"service.version":"2.8.0","service.name":"unknown_service:router","process.executable.name":"router"}}
{"timestamp":"2025-11-12T19:34:08.229282000Z","level":"INFO","message":"state machine transitioned","event":"NoMoreSchema","state":"Running","previous_state":"Running","target":"apollo_router::state_machine","resource":{"service.version":"2.8.0","service.name":"unknown_service:router","process.executable.name":"router"}}
{"timestamp":"2025-11-12T19:34:08.229288000Z","level":"INFO","message":"state machine transitioned","event":"NoMoreLicense","state":"Running","previous_state":"Running","target":"apollo_router::state_machine","resource":{"service.version":"2.8.0","service.name":"unknown_service:router","process.executable.name":"router"}}
[1;33mSending SIGINT to stop router...[0m
[1;33mForce killing router...[0m
./run_startup_tests.sh: line 112:  2463 Killed: 9               eval "${command}" > "${log_file}" 2>&1

[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mTest: 1.2[0m
[0;34mDescription: File schema, no config, with hot reload[0m
[0;34mCommand: ./target/release/router --supergraph ./test_startup/supergraph.graphql --hot-reload[0m
[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;31mâœ— FAILED - Router did not start or 'running' message not found[0m
[0;31mLog output:[0m
{"timestamp":"2025-11-12T19:34:14.629783000Z","level":"INFO","message":"Apollo Router v2.8.0 // (c) Apollo Graph, Inc. // Licensed as ELv2 (https://go.apollo.dev/elv2)","target":"apollo_router::executable","resource":{}}
{"timestamp":"2025-11-12T19:34:14.629855000Z","level":"INFO","message":"Anonymous usage data is gathered to inform Apollo product development.  See https://go.apollo.dev/o/privacy for details.","target":"apollo_router::executable","resource":{}}
{"timestamp":"2025-11-12T19:34:14.630203000Z","level":"INFO","message":"state machine transitioned","event":"UpdateLicense(Unlicensed)","state":"Startup","previous_state":"Startup","target":"apollo_router::state_machine","resource":{}}
{"timestamp":"2025-11-12T19:34:14.630667000Z","level":"INFO","message":"state machine transitioned","event":"UpdateConfiguration","state":"Startup","previous_state":"Startup","target":"apollo_router::state_machine","resource":{}}
{"timestamp":"2025-11-12T19:34:14.630677000Z","level":"INFO","message":"state machine transitioned","event":"NoMoreLicense","state":"Startup","previous_state":"Startup","target":"apollo_router::state_machine","resource":{}}
{"timestamp":"2025-11-12T19:34:14.632332000Z","level":"INFO","trace_id":"85354ce293e59fdf0758a4e32ced2e52","span_id":"f990b4153bf91b58","message":"Health check exposed at http://127.0.0.1:8088/health","target":"apollo_router::plugins::healthcheck","spans":[{"name":"starting"},{"name":"plugins"},{"name":"plugin: apollo.health_check"}],"resource":{}}
{"timestamp":"2025-11-12T19:34:14.821556000Z","level":"INFO","message":"state machine transitioned","event":"UpdateSchema","state":"Errored","previous_state":"Startup","target":"apollo_router::state_machine","resource":{"service.name":"unknown_service:router","service.version":"2.8.0","process.executable.name":"router"}}
{"timestamp":"2025-11-12T19:34:14.821588000Z","level":"INFO","message":"stopped","target":"apollo_router::state_machine","resource":{"service.name":"unknown_service:router","service.version":"2.8.0","process.executable.name":"router"}}
{"timestamp":"2025-11-12T19:34:14.821641000Z","level":"ERROR","message":"could not create the HTTP server: Address already in use (os error 48)","target":"apollo_router::executable","resource":{"service.name":"unknown_service:router","service.version":"2.8.0","process.executable.name":"router"}}
could not create the HTTP server: Address already in use (os error 48)
