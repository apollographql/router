---
source: apollo-router/tests/integration_tests.rs
assertion_line: 59
expression: get_span()

---
{
  "id": 1,
  "name": "integration_tests::root",
  "record": {
    "entries": [
      [
        "message",
        "query:\n{ topProducts { name name2:name } }\n"
      ],
      [
        "message",
        "expected: {\n  \"data\": {\n    \"topProducts\": [\n      {\n        \"name\": \"Table\",\n        \"name2\": \"Table\"\n      },\n      {\n        \"name\": \"Couch\",\n        \"name2\": \"Couch\"\n      },\n      {\n        \"name\": \"Chair\",\n        \"name2\": \"Chair\"\n      }\n    ]\n  }\n}"
      ],
      [
        "message",
        "actual: {\n  \"data\": {\n    \"topProducts\": [\n      {\n        \"name\": \"Table\",\n        \"name2\": \"Table\"\n      },\n      {\n        \"name\": \"Couch\",\n        \"name2\": \"Couch\"\n      },\n      {\n        \"name\": \"Chair\",\n        \"name2\": \"Chair\"\n      }\n    ]\n  }\n}"
      ]
    ],
    "metadata": {
      "name": "root",
      "target": "integration_tests",
      "level": "INFO",
      "module_path": "integration_tests",
      "fields": {
        "names": []
      }
    }
  },
  "children": {
    "apollo_router::apollo_router::prepare_query - 2": {
      "id": 2,
      "name": "apollo_router::apollo_router::prepare_query",
      "record": {
        "entries": [
          [
            "message",
            "query plan\nQueryPlan {\n    root: Fetch(\n        FetchNode {\n            service_name: \"products\",\n            requires: [],\n            variable_usages: [],\n            operation: \"{topProducts{name name2:name}}\",\n        },\n    ),\n}"
          ]
        ],
        "metadata": {
          "name": "prepare_query",
          "target": "apollo_router::apollo_router",
          "level": "DEBUG",
          "module_path": "apollo_router::apollo_router",
          "fields": {
            "names": []
          }
        }
      },
      "children": {
        "apollo_router::apollo_router::query_parsing - 3": {
          "id": 3,
          "name": "apollo_router::apollo_router::query_parsing",
          "record": {
            "entries": [
              [
                "message",
                "query plan\nQueryPlan {\n    root: Fetch(\n        FetchNode {\n            service_name: \"products\",\n            requires: [],\n            variable_usages: [],\n            operation: \"{topProducts{name name2:name}}\",\n        },\n    ),\n}"
              ]
            ],
            "metadata": {
              "name": "query_parsing",
              "target": "apollo_router::apollo_router",
              "level": "INFO",
              "module_path": "apollo_router::apollo_router",
              "fields": {
                "names": []
              }
            }
          },
          "children": {}
        }
      }
    }
  }
}
