# rover supergraph compose --config apollo-federation/src/sources/connect/expand/tests/schemas/circular.yaml > apollo-federation/src/sources/connect/expand/tests/schemas/circular.graphql
federation_version: =2.9.0-connectors.12
subgraphs:
  one:
    routing_url: none
    schema:
      sdl: |
        extend schema
          @link(url: "https://specs.apollo.dev/federation/v2.8")
          @link(url: "https://specs.apollo.dev/connect/v0.1", import: ["@connect", "@source"])
          @source(name: "json" http: { baseURL: "http://example/" })

        type Query {
          t(id: ID): T @connect(
            source: "json"
            http: { GET: "/t/{$$args.id}" }
            selection: """
            id
            """
          )
        }

        type T {
          id: ID!
          ts: [T]
            @connect(
              source: "json"
              http: { GET: "/t/{$$this.id}/ts" }
              selection: """
              id
              """
            )
        }