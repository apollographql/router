{"timestamp":"2024-06-20T18:36:11.857892Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":195,"span":{"name":"QueryPlanner::new"},"spans":[{"name":"QueryPlanner::new"}]}
{"timestamp":"2024-06-20T18:36:11.868574Z","level":"TRACE","message":"query graph","data":"{\"edges\":[{\"head\":1,\"id\":0,\"label\":\"id\",\"tail\":2},{\"head\":1,\"id\":1,\"label\":\"name\",\"tail\":3},{\"head\":1,\"id\":2,\"label\":\"email\",\"tail\":3},{\"head\":1,\"id\":3,\"label\":\"password\",\"tail\":3},{\"head\":1,\"id\":4,\"label\":\"nickname\",\"tail\":3},{\"head\":1,\"id\":5,\"label\":\"__typename\",\"tail\":3},{\"head\":0,\"id\":6,\"label\":\"userById\",\"tail\":1},{\"head\":0,\"id\":7,\"label\":\"me\",\"tail\":1},{\"head\":4,\"id\":8,\"label\":\"__typename\",\"tail\":3},{\"head\":4,\"id\":9,\"label\":\"... on User\",\"tail\":1},{\"head\":0,\"id\":10,\"label\":\"_entities\",\"tail\":4},{\"head\":5,\"id\":11,\"label\":\"sdl\",\"tail\":3},{\"head\":5,\"id\":12,\"label\":\"__typename\",\"tail\":3},{\"head\":0,\"id\":13,\"label\":\"_service\",\"tail\":5},{\"head\":0,\"id\":14,\"label\":\"__typename\",\"tail\":3},{\"head\":7,\"id\":15,\"label\":\"id\",\"tail\":8},{\"head\":9,\"id\":16,\"label\":\"value\",\"tail\":10},{\"head\":9,\"id\":17,\"label\":\"currency\",\"tail\":11},{\"head\":9,\"id\":18,\"label\":\"__typename\",\"tail\":12},{\"head\":7,\"id\":19,\"label\":\"price\",\"tail\":9},{\"head\":13,\"id\":20,\"label\":\"id\",\"tail\":8},{\"head\":13,\"id\":21,\"label\":\"__typename\",\"tail\":12},{\"head\":7,\"id\":22,\"label\":\"vendor\",\"tail\":13},{\"head\":7,\"id\":23,\"label\":\"__typename\",\"tail\":12},{\"head\":14,\"id\":24,\"label\":\"id\",\"tail\":8},{\"head\":14,\"id\":25,\"label\":\"price\",\"tail\":9},{\"head\":14,\"id\":26,\"label\":\"title\",\"tail\":12},{\"head\":14,\"id\":27,\"label\":\"vendor\",\"tail\":13},{\"head\":14,\"id\":28,\"label\":\"pages\",\"tail\":10},{\"head\":14,\"id\":29,\"label\":\"{ reviews { rating } } ⊢ avg_rating\",\"tail\":10},{\"head\":15,\"id\":30,\"label\":\"__typename\",\"tail\":12},{\"head\":14,\"id\":31,\"label\":\"__typename\",\"tail\":12},{\"head\":7,\"id\":32,\"label\":\"... on Book\",\"tail\":14},{\"head\":16,\"id\":33,\"label\":\"id\",\"tail\":8},{\"head\":16,\"id\":34,\"label\":\"price\",\"tail\":9},{\"head\":16,\"id\":35,\"label\":\"title\",\"tail\":12},{\"head\":16,\"id\":36,\"label\":\"vendor\",\"tail\":13},{\"head\":16,\"id\":37,\"label\":\"length_minutes\",\"tail\":10},{\"head\":16,\"id\":38,\"label\":\"{ reviews { rating } } ⊢ avg_rating\",\"tail\":10},{\"head\":16,\"id\":39,\"label\":\"__typename\",\"tail\":12},{\"head\":7,\"id\":40,\"label\":\"... on Movie\",\"tail\":16},{\"head\":6,\"id\":41,\"label\":\"productById\",\"tail\":7},{\"head\":6,\"id\":42,\"label\":\"search\",\"tail\":7},{\"head\":17,\"id\":43,\"label\":\"__typename\",\"tail\":12},{\"head\":17,\"id\":44,\"label\":\"... on Book\",\"tail\":14},{\"head\":17,\"id\":45,\"label\":\"... on Movie\",\"tail\":16},{\"head\":17,\"id\":46,\"label\":\"... on User\",\"tail\":13},{\"head\":6,\"id\":47,\"label\":\"_entities\",\"tail\":17},{\"head\":18,\"id\":48,\"label\":\"sdl\",\"tail\":12},{\"head\":18,\"id\":49,\"label\":\"__typename\",\"tail\":12},{\"head\":6,\"id\":50,\"label\":\"_service\",\"tail\":18},{\"head\":6,\"id\":51,\"label\":\"__typename\",\"tail\":12},{\"head\":7,\"id\":52,\"label\":\"... on Product\",\"tail\":7},{\"head\":20,\"id\":53,\"label\":\"id\",\"tail\":21},{\"head\":22,\"id\":54,\"label\":\"rating\",\"tail\":23},{\"head\":24,\"id\":55,\"label\":\"id\",\"tail\":21},{\"head\":24,\"id\":56,\"label\":\"reviews\",\"tail\":22},{\"head\":24,\"id\":57,\"label\":\"__typename\",\"tail\":25},{\"head\":26,\"id\":58,\"label\":\"id\",\"tail\":21},{\"head\":26,\"id\":59,\"label\":\"reviews\",\"tail\":22},{\"head\":26,\"id\":60,\"label\":\"__typename\",\"tail\":25},{\"head\":24,\"id\":61,\"label\":\"... on Book\",\"tail\":26},{\"head\":27,\"id\":62,\"label\":\"id\",\"tail\":21},{\"head\":27,\"id\":63,\"label\":\"reviews\",\"tail\":22},{\"head\":27,\"id\":64,\"label\":\"__typename\",\"tail\":25},{\"head\":24,\"id\":65,\"label\":\"... on Movie\",\"tail\":27},{\"head\":22,\"id\":66,\"label\":\"product\",\"tail\":24},{\"head\":22,\"id\":67,\"label\":\"author\",\"tail\":20},{\"head\":22,\"id\":68,\"label\":\"text\",\"tail\":25},{\"head\":22,\"id\":69,\"label\":\"__typename\",\"tail\":25},{\"head\":20,\"id\":70,\"label\":\"reviews\",\"tail\":22},{\"head\":20,\"id\":71,\"label\":\"__typename\",\"tail\":25},{\"head\":19,\"id\":72,\"label\":\"me\",\"tail\":20},{\"head\":19,\"id\":73,\"label\":\"bestRatedProducts\",\"tail\":24},{\"head\":28,\"id\":74,\"label\":\"__typename\",\"tail\":25},{\"head\":28,\"id\":75,\"label\":\"... on Book\",\"tail\":26},{\"head\":28,\"id\":76,\"label\":\"... on Movie\",\"tail\":27},{\"head\":28,\"id\":77,\"label\":\"... on User\",\"tail\":20},{\"head\":19,\"id\":78,\"label\":\"_entities\",\"tail\":28},{\"head\":29,\"id\":79,\"label\":\"sdl\",\"tail\":25},{\"head\":29,\"id\":80,\"label\":\"__typename\",\"tail\":25},{\"head\":19,\"id\":81,\"label\":\"_service\",\"tail\":29},{\"head\":19,\"id\":82,\"label\":\"__typename\",\"tail\":25},{\"head\":24,\"id\":83,\"label\":\"... on Product\",\"tail\":24},{\"head\":30,\"id\":84,\"label\":\"\",\"tail\":0},{\"head\":0,\"id\":85,\"label\":\"query()\",\"tail\":0},{\"head\":0,\"id\":86,\"label\":\"query()\",\"tail\":6},{\"head\":0,\"id\":87,\"label\":\"query()\",\"tail\":19},{\"head\":30,\"id\":88,\"label\":\"\",\"tail\":6},{\"head\":6,\"id\":89,\"label\":\"query()\",\"tail\":0},{\"head\":6,\"id\":90,\"label\":\"query()\",\"tail\":6},{\"head\":6,\"id\":91,\"label\":\"query()\",\"tail\":19},{\"head\":30,\"id\":92,\"label\":\"\",\"tail\":19},{\"head\":19,\"id\":93,\"label\":\"query()\",\"tail\":0},{\"head\":19,\"id\":94,\"label\":\"query()\",\"tail\":6},{\"head\":19,\"id\":95,\"label\":\"query()\",\"tail\":19},{\"head\":1,\"id\":96,\"label\":\"{ id } ⊢ key()\",\"tail\":1},{\"head\":13,\"id\":97,\"label\":\"{ id } ⊢ key()\",\"tail\":1},{\"head\":20,\"id\":98,\"label\":\"{ id } ⊢ key()\",\"tail\":1},{\"head\":14,\"id\":99,\"label\":\"{ id } ⊢ key()\",\"tail\":14},{\"head\":26,\"id\":100,\"label\":\"{ id } ⊢ key()\",\"tail\":14},{\"head\":16,\"id\":101,\"label\":\"{ id } ⊢ key()\",\"tail\":16},{\"head\":27,\"id\":102,\"label\":\"{ id } ⊢ key()\",\"tail\":16},{\"head\":1,\"id\":103,\"label\":\"{ id } ⊢ key()\",\"tail\":20},{\"head\":13,\"id\":104,\"label\":\"{ id } ⊢ key()\",\"tail\":20},{\"head\":20,\"id\":105,\"label\":\"{ id } ⊢ key()\",\"tail\":20},{\"head\":14,\"id\":106,\"label\":\"{ id } ⊢ key()\",\"tail\":26},{\"head\":26,\"id\":107,\"label\":\"{ id } ⊢ key()\",\"tail\":26},{\"head\":16,\"id\":108,\"label\":\"{ id } ⊢ key()\",\"tail\":27},{\"head\":27,\"id\":109,\"label\":\"{ id } ⊢ key()\",\"tail\":27}],\"nodes\":[{\"id\":0,\"label\":\"Query\",\"source\":\"accounts\"},{\"id\":1,\"label\":\"User\",\"source\":\"accounts\"},{\"id\":2,\"label\":\"ID\",\"source\":\"accounts\"},{\"id\":3,\"label\":\"String\",\"source\":\"accounts\"},{\"id\":4,\"label\":\"_Entity\",\"source\":\"accounts\"},{\"id\":5,\"label\":\"_Service\",\"source\":\"accounts\"},{\"id\":6,\"label\":\"Query\",\"source\":\"products\"},{\"id\":7,\"label\":\"Product\",\"source\":\"products\"},{\"id\":8,\"label\":\"ID\",\"source\":\"products\"},{\"id\":9,\"label\":\"Price\",\"source\":\"products\"},{\"id\":10,\"label\":\"Int\",\"source\":\"products\"},{\"id\":11,\"label\":\"Currency\",\"source\":\"products\"},{\"id\":12,\"label\":\"String\",\"source\":\"products\"},{\"id\":13,\"label\":\"User\",\"source\":\"products\"},{\"id\":14,\"label\":\"Book\",\"source\":\"products\"},{\"id\":15,\"label\":\"Review\",\"source\":\"products\"},{\"id\":16,\"label\":\"Movie\",\"source\":\"products\"},{\"id\":17,\"label\":\"_Entity\",\"source\":\"products\"},{\"id\":18,\"label\":\"_Service\",\"source\":\"products\"},{\"id\":19,\"label\":\"Query\",\"source\":\"reviews\"},{\"id\":20,\"label\":\"User\",\"source\":\"reviews\"},{\"id\":21,\"label\":\"ID\",\"source\":\"reviews\"},{\"id\":22,\"label\":\"Review\",\"source\":\"reviews\"},{\"id\":23,\"label\":\"Int\",\"source\":\"reviews\"},{\"id\":24,\"label\":\"Product\",\"source\":\"reviews\"},{\"id\":25,\"label\":\"String\",\"source\":\"reviews\"},{\"id\":26,\"label\":\"Book\",\"source\":\"reviews\"},{\"id\":27,\"label\":\"Movie\",\"source\":\"reviews\"},{\"id\":28,\"label\":\"_Entity\",\"source\":\"reviews\"},{\"id\":29,\"label\":\"_Service\",\"source\":\"reviews\"},{\"id\":30,\"label\":\"[query]\",\"source\":\"_\"}]}","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":214,"span":{"name":"QueryPlanner::new"},"spans":[{"name":"QueryPlanner::new"}]}
{"timestamp":"2024-06-20T18:36:11.869079Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":195,"span":{"name":"QueryPlanner::new"},"spans":[]}
{"timestamp":"2024-06-20T18:36:11.869374Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":309,"span":{"name":"QueryPlanner::build_query_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"}]}
{"timestamp":"2024-06-20T18:36:11.869520Z","level":"TRACE","message":"normalized operation","data":"{\"kind\":\"Operation\",\"normalized\":\"{\\n  bestRatedProducts {\\n    vendor {\\n      name\\n    }\\n  }\\n}\",\"original\":\"{\\n  bestRatedProducts {\\n    vendor {\\n      name\\n    }\\n  }\\n}\"}","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":401,"span":{"name":"QueryPlanner::build_query_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"}]}
{"timestamp":"2024-06-20T18:36:11.869569Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":160,"span":{"name":"QueryPlanningTraversal::new"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"}]}
{"timestamp":"2024-06-20T18:36:11.869611Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.869695Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.869777Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.869806Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.869865Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.869901Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.869939Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.869966Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.870029Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.870067Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::new"}]}
{"timestamp":"2024-06-20T18:36:11.870090Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":160,"span":{"name":"QueryPlanningTraversal::new"},"spans":[{"name":"QueryPlanner::build_query_plan"}]}
{"timestamp":"2024-06-20T18:36:11.870127Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.870151Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.870178Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870394Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":84,\"label\":\"∅\"},{\"label\":\"Query(accounts)*\",\"node\":0}]]},{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":88,\"label\":\"∅\"},{\"label\":\"Query(products)*\",\"node\":6}]]},{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870455Z","level":"TRACE","message":"operation_element","data":"\"bestRatedProducts\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870498Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.870554Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870589Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.870626Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870686Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.870721Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870753Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.870786Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870827Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.870878Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.870909Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.870959Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"bestRatedProducts","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.870999Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.871032Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.871203Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.871253Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.871288Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.871404Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.871449Z","level":"TRACE","message":"operation_element","data":"\"vendor\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.871491Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.871562Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"... on Book","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"... on Book","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.871615Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"... on Book","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.871667Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.871703Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.871738Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.871783Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.871820Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.871863Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.871907Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.871947Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.871988Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.872033Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872107Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"Book(reviews)\",\"node\":26}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872160Z","level":"TRACE","message":"operation_element","data":"\"id\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872219Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.872284Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.872332Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.872388Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872501Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":58,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872649Z","level":"TRACE","message":"closed_branch","data":"{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":58,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":516,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.872706Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.872755Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.872889Z","level":"TRACE","message":"closed_branches","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":58,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":601,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.873053Z","level":"TRACE","message":"closed_branches_after_reduce","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":58,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":618,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.873169Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.873225Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.873293Z","level":"TRACE","message":"path_tree","data":"\"Book(reviews):\\n -> [58] id = ID(reviews)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.873372Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.873431Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.873711Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Book\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.873820Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.874002Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Book\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":977,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.874059Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.874338Z","level":"TRACE","message":"best_plan","data":"{\"cost\":1001,\"fetchDependencyGraph\":{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":1,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Book\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]},\"kind\":\"BestQueryPlanInfo\",\"pathTree\":\"TODO\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":683,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.874398Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.874435Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.874470Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.874513Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.874553Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.874625Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874674Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874732Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.874759Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874800Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874873Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"... on Movie","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"... on Movie","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874922Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"... on Movie","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.874969Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.875000Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.875035Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.875070Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.875105Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.875143Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.875185Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.875219Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.875256Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.875290Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875356Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"Movie(reviews)\",\"node\":27}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875404Z","level":"TRACE","message":"operation_element","data":"\"id\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875449Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.875506Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.875549Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.875594Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875698Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":62,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875825Z","level":"TRACE","message":"closed_branch","data":"{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":62,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":516,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.875873Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.875947Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.876075Z","level":"TRACE","message":"closed_branches","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":62,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":601,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.876206Z","level":"TRACE","message":"closed_branches_after_reduce","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":62,\"label\":\"id\"},{\"label\":\"ID(reviews)\",\"node\":21}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":618,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.876289Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.876343Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.876403Z","level":"TRACE","message":"path_tree","data":"\"Movie(reviews):\\n -> [62] id = ID(reviews)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.876461Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.876515Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.876675Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Movie\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.876730Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.876868Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Movie\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":977,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.876926Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.877107Z","level":"TRACE","message":"best_plan","data":"{\"cost\":1001,\"fetchDependencyGraph\":{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":1,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Movie\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"reviews\"},\"id\":0}]},\"kind\":\"BestQueryPlanInfo\",\"pathTree\":\"TODO\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":683,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.877164Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.877199Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.877233Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.877270Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.877300Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.877342Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.877382Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.877426Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.877455Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.877496Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"vendor","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.877541Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"vendor","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.877571Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.877599Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.877914Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.877979Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.878009Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878306Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878376Z","level":"TRACE","message":"operation_element","data":"\"name\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878408Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.878436Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878465Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.878491Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.878518Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.878551Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.878584Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.878614Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.878643Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.878674Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878735Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878779Z","level":"TRACE","message":"operation_element","data":"\"id\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.878820Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.878865Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.878919Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.878984Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.879096Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.879219Z","level":"TRACE","message":"closed_branch","data":"{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":516,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.879266Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.879308Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.879416Z","level":"TRACE","message":"closed_branches","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":601,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.879534Z","level":"TRACE","message":"closed_branches_after_reduce","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":618,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.879600Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.879636Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.879677Z","level":"TRACE","message":"path_tree","data":"\"User(products):\\n -> [20] id = ID(products)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.879727Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.879773Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.879933Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.879983Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.880118Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":977,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.880167Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.880343Z","level":"TRACE","message":"best_plan","data":"{\"cost\":1001,\"fetchDependencyGraph\":{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":1,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]},\"kind\":\"BestQueryPlanInfo\",\"pathTree\":\"TODO\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":683,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.880393Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.880425Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.880455Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.880489Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.880517Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.880556Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.880584Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.880619Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::new_inner"}]}
{"timestamp":"2024-06-20T18:36:11.880653Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":187,"span":{"name":"QueryPlanningTraversal::new_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.880683Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.880713Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.880744Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.880795Z","level":"TRACE","message":"options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":333,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.880834Z","level":"TRACE","message":"operation_element","data":"\"id\"","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":338,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.880876Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.880922Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.880957Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"id","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.880998Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"id","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.881092Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.881206Z","level":"TRACE","message":"closed_branch","data":"{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":516,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.881238Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.881274Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.881379Z","level":"TRACE","message":"closed_branches","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":601,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.881493Z","level":"TRACE","message":"closed_branches_after_reduce","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"User(products)\",\"node\":13},{\"edge\":20,\"label\":\"id\"},{\"label\":\"ID(products)\",\"node\":8}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":618,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.881552Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.881593Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.881637Z","level":"TRACE","message":"path_tree","data":"\"User(products):\\n -> [20] id = ID(products)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.881683Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.881728Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.881870Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.881919Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.882041Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":977,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.882090Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.882260Z","level":"TRACE","message":"best_plan","data":"{\"cost\":1001,\"fetchDependencyGraph\":{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":1,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"User\",\"root_kind\":\"query\",\"selection_set\":\"{ id }\",\"subgraph_name\":\"products\"},\"id\":0}]},\"kind\":\"BestQueryPlanInfo\",\"pathTree\":\"TODO\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":683,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.882309Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.882341Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.882370Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"},{"name":"QueryPlanningTraversal::resolve_condition_plan"}]}
{"timestamp":"2024-06-20T18:36:11.882402Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":984,"span":{"name":"QueryPlanningTraversal::resolve_condition_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.882432Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.882472Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882512Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.882540Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882572Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.882612Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.882638Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.882668Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882708Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.882735Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882761Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.882791Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.882816Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.882850Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.882870Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"name":"advance_with_non_collecting_and_type_preserving_transitions"}]}
{"timestamp":"2024-06-20T18:36:11.882901Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1393,"span":{"name":"advance_with_non_collecting_and_type_preserving_transitions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882935Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.882962Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.882993Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.883029Z","level":"TRACE","message":"enter","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"},{"name":"GraphPath::can_satisfy_conditions"}]}
{"timestamp":"2024-06-20T18:36:11.883054Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":1321,"span":{"name":"GraphPath::can_satisfy_conditions"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"},{"label":"name","name":"GraphPath::advance_with_operation_element"}]}
{"timestamp":"2024-06-20T18:36:11.883083Z","level":"TRACE","message":"exit","target":"apollo_federation::query_graph::graph_path","filename":"apollo-federation/src/query_graph/graph_path.rs","line_number":2326,"span":{"label":"name","name":"GraphPath::advance_with_operation_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.883474Z","level":"TRACE","message":"new_options","data":"[{\"kind\":\"SimultaneousPathsWithLazyIndirectPaths\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}]]}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":372,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.884000Z","level":"TRACE","message":"closed_branch","data":"{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":516,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::handle_open_branch"}]}
{"timestamp":"2024-06-20T18:36:11.884082Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":319,"span":{"name":"QueryPlanningTraversal::handle_open_branch"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.884113Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.884602Z","level":"TRACE","message":"closed_branches","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":601,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.885121Z","level":"TRACE","message":"closed_branches_after_reduce","data":"[{\"branch\":[{\"kind\":\"ClosedPath\",\"paths\":[[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":61,\"label\":\"... on Book\"},{\"label\":\"Book(reviews)\",\"node\":26},{\"edge\":100,\"label\":\"key()\"},{\"label\":\"Book(products)\",\"node\":14},{\"edge\":27,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}],[{\"label\":\"[query](_)*\",\"node\":30},{\"edge\":92,\"label\":\"∅\"},{\"label\":\"Query(reviews)*\",\"node\":19},{\"edge\":73,\"label\":\"bestRatedProducts\"},{\"label\":\"Product(reviews)\",\"node\":24},{\"edge\":65,\"label\":\"... on Movie\"},{\"label\":\"Movie(reviews)\",\"node\":27},{\"edge\":102,\"label\":\"key()\"},{\"label\":\"Movie(products)\",\"node\":16},{\"edge\":36,\"label\":\"vendor\"},{\"label\":\"User(products)\",\"node\":13},{\"edge\":97,\"label\":\"key()\"},{\"label\":\"User(accounts)\",\"node\":1},{\"edge\":1,\"label\":\"name\"},{\"label\":\"String(accounts)\",\"node\":3}]],\"selection_set\":null}],\"kind\":\"ClosedBranch\"}]","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":618,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.885249Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.885281Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":612,"span":{"name":"compute_root_fetch_groups"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"}]}
{"timestamp":"2024-06-20T18:36:11.885432Z","level":"TRACE","message":"tree_with_root_node","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{}\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":641,"span":{"name":"compute_root_fetch_groups"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"}]}
{"timestamp":"2024-06-20T18:36:11.885473Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885536Z","level":"TRACE","message":"path_tree","data":"\"Query(reviews)*:\\n -> [73] bestRatedProducts = Product(reviews):\\n   -> [61] ... on Book = Book(reviews):\\n     -> [100] [] = Book(products):\\n       -> [27] vendor = User(products):\\n         -> [97] [] = User(accounts):\\n           -> [1] name = String(accounts)\\n   -> [65] ... on Movie = Movie(reviews):\\n     -> [102] [] = Movie(products):\\n       -> [36] vendor = User(products):\\n         -> [97] [] = User(accounts):\\n           -> [1] name = String(accounts)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885575Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"bestRatedProducts","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"bestRatedProducts","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.885618Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"bestRatedProducts","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885653Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"... on Movie","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"... on Movie","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.885707Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"... on Movie","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885740Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"... on Book","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"... on Book","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.885774Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"... on Book","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885808Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.885843Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885878Z","level":"TRACE","message":"path_tree","data":"\"Book(reviews):\\n -> [58] id = ID(reviews)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.885910Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.885944Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886104Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886145Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.886251Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886288Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"vendor","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"vendor","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.886325Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"vendor","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886358Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.886389Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886424Z","level":"TRACE","message":"path_tree","data":"\"User(products):\\n -> [20] id = ID(products)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886463Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.886502Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886772Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { id } } }\",\"subgraph_name\":\"products\"},\"id\":1}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886829Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.886897Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.886934Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"name","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"name","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.886970Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"name","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887012Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.887042Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887076Z","level":"TRACE","message":"path_tree","data":"\"Movie(reviews):\\n -> [62] id = ID(reviews)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887114Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.887153Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887538Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1},{\"data\":\"... on Book::vendor\",\"head\":1,\"id\":1,\"tail\":2}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } ... on Movie { id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":1},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":2}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887612Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.887682Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887719Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"vendor","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"vendor","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.887755Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"vendor","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887788Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.887819Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887854Z","level":"TRACE","message":"path_tree","data":"\"User(products):\\n -> [20] id = ID(products)\"","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1919,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.887892Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"},{"label":"id","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.887931Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"id","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.888416Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1},{\"data\":\"... on Book::vendor\",\"head\":1,\"id\":1,\"tail\":2},{\"data\":\"bestRatedProducts::... on Movie\",\"head\":0,\"id\":2,\"tail\":3}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } ... on Movie { __typename id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":1},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":2},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Movie { vendor { id } } }\",\"subgraph_name\":\"products\"},\"id\":3}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.888500Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"name":"compute_nodes_for_key_resolution"}]}
{"timestamp":"2024-06-20T18:36:11.888568Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2016,"span":{"name":"compute_nodes_for_key_resolution"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.888604Z","level":"TRACE","message":"enter","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"name","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"},{"label":"name","name":"compute_nodes_for_op_path_element"}]}
{"timestamp":"2024-06-20T18:36:11.888640Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2266,"span":{"label":"name","name":"compute_nodes_for_op_path_element"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.889240Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1},{\"data\":\"... on Book::vendor\",\"head\":1,\"id\":1,\"tail\":2},{\"data\":\"bestRatedProducts::... on Movie\",\"head\":0,\"id\":2,\"tail\":3},{\"data\":\"... on Movie::vendor\",\"head\":3,\"id\":3,\"tail\":4}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } ... on Movie { __typename id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":1},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":2},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Movie { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":3},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":4}]}","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":2009,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"},{"name":"compute_nodes_for_tree"}]}
{"timestamp":"2024-06-20T18:36:11.889337Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::fetch_dependency_graph","filename":"apollo-federation/src/query_plan/fetch_dependency_graph.rs","line_number":1910,"span":{"name":"compute_nodes_for_tree"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"},{"name":"compute_root_fetch_groups"}]}
{"timestamp":"2024-06-20T18:36:11.889364Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":612,"span":{"name":"compute_root_fetch_groups"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.889931Z","level":"TRACE","message":"updated_dependency_graph","data":"{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1},{\"data\":\"... on Book::vendor\",\"head\":1,\"id\":1,\"tail\":2},{\"data\":\"bestRatedProducts::... on Movie\",\"head\":0,\"id\":2,\"tail\":3},{\"data\":\"... on Movie::vendor\",\"head\":3,\"id\":3,\"tail\":4}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } ... on Movie { __typename id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":1},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":2},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Movie { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":3},{\"data\":{\"cached_cost\":null,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":4}]}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":977,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},{"name":"QueryPlanningTraversal::updated_dependency_graph"}]}
{"timestamp":"2024-06-20T18:36:11.890025Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":935,"span":{"name":"QueryPlanningTraversal::updated_dependency_graph"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.890746Z","level":"TRACE","message":"best_plan","data":"{\"cost\":20262817,\"fetchDependencyGraph\":{\"edges\":[{\"data\":\"bestRatedProducts::... on Book\",\"head\":0,\"id\":0,\"tail\":1},{\"data\":\"... on Book::vendor\",\"head\":1,\"id\":1,\"tail\":2},{\"data\":\"bestRatedProducts::... on Movie\",\"head\":0,\"id\":2,\"tail\":3},{\"data\":\"... on Movie::vendor\",\"head\":3,\"id\":3,\"tail\":4}],\"kind\":\"FetchDependencyGraph\",\"nodes\":[{\"data\":{\"cached_cost\":17,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":false,\"is_known_useful\":false,\"merge_at\":null,\"must_preserve_selection_set\":false,\"parent_type\":\"Query\",\"root_kind\":\"query\",\"selection_set\":\"{ bestRatedProducts { ... on Book { __typename id } ... on Movie { __typename id } } }\",\"subgraph_name\":\"reviews\"},\"id\":0},{\"data\":{\"cached_cost\":9,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Book { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":1},{\"data\":{\"cached_cost\":3,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":2},{\"data\":{\"cached_cost\":9,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on Movie { vendor { __typename id } } }\",\"subgraph_name\":\"products\"},\"id\":3},{\"data\":{\"cached_cost\":3,\"defer_ref\":null,\"id\":null,\"input_rewrites\":\"TODO\",\"inputs\":\"TODO\",\"is_entity_fetch\":true,\"is_known_useful\":false,\"merge_at\":[\"bestRatedProducts\",\"@\",\"vendor\"],\"must_preserve_selection_set\":false,\"parent_type\":\"_Entity\",\"root_kind\":\"query\",\"selection_set\":\"{ ... on User { name } }\",\"subgraph_name\":\"accounts\"},\"id\":4}]},\"kind\":\"BestQueryPlanInfo\",\"pathTree\":\"TODO\"}","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":683,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"},{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"}]}
{"timestamp":"2024-06-20T18:36:11.890841Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":595,"span":{"name":"QueryPlanningTraversal::compute_best_plan_from_closed_branches"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"},{"name":"QueryPlanningTraversal::find_best_plan_inner"}]}
{"timestamp":"2024-06-20T18:36:11.890865Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":281,"span":{"name":"QueryPlanningTraversal::find_best_plan_inner"},"spans":[{"name":"QueryPlanner::build_query_plan"},{"name":"QueryPlanningTraversal::find_best_plan"}]}
{"timestamp":"2024-06-20T18:36:11.890885Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planning_traversal","filename":"apollo-federation/src/query_plan/query_planning_traversal.rs","line_number":271,"span":{"name":"QueryPlanningTraversal::find_best_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"}]}
{"timestamp":"2024-06-20T18:36:11.891682Z","level":"TRACE","message":"query plan","data":"{\"formatted\":\"QueryPlan {\\n  Sequence {\\n    Fetch(service: \\\"reviews\\\") {\\n      {\\n        bestRatedProducts {\\n          ... on Book {\\n            __typename\\n            id\\n          }\\n          ... on Movie {\\n            __typename\\n            id\\n          }\\n        }\\n      }\\n    },\\n    Parallel {\\n      Sequence {\\n        Flatten(path: \\\"bestRatedProducts.@\\\") {\\n          Fetch(service: \\\"products\\\") {\\n            {\\n              ... on Movie {\\n                __typename\\n                id\\n              }\\n            } =>\\n            {\\n              ... on Movie {\\n                vendor {\\n                  __typename\\n                  id\\n                }\\n              }\\n            }\\n          },\\n        },\\n        Flatten(path: \\\"bestRatedProducts.@.vendor\\\") {\\n          Fetch(service: \\\"accounts\\\") {\\n            {\\n              ... on User {\\n                __typename\\n                id\\n              }\\n            } =>\\n            {\\n              ... on User {\\n                name\\n              }\\n            }\\n          },\\n        },\\n      },\\n      Sequence {\\n        Flatten(path: \\\"bestRatedProducts.@\\\") {\\n          Fetch(service: \\\"products\\\") {\\n            {\\n              ... on Book {\\n                __typename\\n                id\\n              }\\n            } =>\\n            {\\n              ... on Book {\\n                vendor {\\n                  __typename\\n                  id\\n                }\\n              }\\n            }\\n          },\\n        },\\n        Flatten(path: \\\"bestRatedProducts.@.vendor\\\") {\\n          Fetch(service: \\\"accounts\\\") {\\n            {\\n              ... on User {\\n                __typename\\n                id\\n              }\\n            } =>\\n            {\\n              ... on User {\\n                name\\n              }\\n            }\\n          },\\n        },\\n      },\\n    },\\n  },\\n}\",\"kind\":\"QueryPlan\"}","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":512,"span":{"name":"QueryPlanner::build_query_plan"},"spans":[{"name":"QueryPlanner::build_query_plan"}]}
{"timestamp":"2024-06-20T18:36:11.891739Z","level":"TRACE","message":"exit","target":"apollo_federation::query_plan::query_planner","filename":"apollo-federation/src/query_plan/query_planner.rs","line_number":309,"span":{"name":"QueryPlanner::build_query_plan"},"spans":[]}
