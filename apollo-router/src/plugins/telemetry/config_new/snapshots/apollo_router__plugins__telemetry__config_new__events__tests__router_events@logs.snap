---
source: apollo-router/src/plugins/telemetry/config_new/events.rs
expression: yaml
---
- fields:
    attributes: "{\"http.request.method\": \"GET\", \"http.request.body\": \"Body(Empty)\", \"http.request.version\": \"HTTP/1.1\", \"http.request.uri\": \"http://example.com/\", \"http.request.headers\": \"{\\\"x-log-request\\\": \\\"log\\\", \\\"content-length\\\": \\\"0\\\", \\\"custom-header\\\": \\\"val1\\\"}\"}"
    kind: router.request
  level: INFO
  message: ""
  span:
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
- fields:
    attributes: "{\"http.request.body.size\": \"0\"}"
    kind: my.request_event
  level: INFO
  message: my event message
  span:
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
- fields:
    attributes: "{\"http.response.body\": \"Body(Full(b\\\"{\\\\\\\"data\\\\\\\":{\\\\\\\"data\\\\\\\":\\\\\\\"res\\\\\\\"}}\\\"))\", \"http.response.status\": \"200 OK\", \"http.response.headers\": \"{\\\"custom-header\\\": \\\"val1\\\", \\\"content-length\\\": \\\"25\\\", \\\"x-log-request\\\": \\\"log\\\"}\", \"http.response.version\": \"HTTP/1.1\"}"
    kind: router.response
  level: INFO
  message: ""
  span:
    apollo_private.duration_ns: "[duration]"
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - apollo_private.duration_ns: "[duration]"
      http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
- fields:
    attributes: "{\"http.response.body.size\": \"25\"}"
    kind: my.response_event
  level: INFO
  message: my response event message
  span:
    apollo_private.duration_ns: "[duration]"
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - apollo_private.duration_ns: "[duration]"
      http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
- fields:
    attributes: "{\"http.request.method\": \"GET\", \"http.request.headers\": \"{\\\"custom-header\\\": \\\"val1\\\"}\", \"http.request.version\": \"HTTP/1.1\", \"http.request.body\": \"Body(Empty)\", \"http.request.uri\": \"http://example.com/\"}"
    kind: router.request
  level: INFO
  message: ""
  span:
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
- fields:
    attributes: "{\"http.response.headers\": \"{\\\"custom-header\\\": \\\"val1\\\"}\", \"http.response.version\": \"HTTP/1.1\", \"http.response.body\": \"Body(Full(b\\\"{\\\\\\\"data\\\\\\\":{\\\\\\\"data\\\\\\\":\\\\\\\"res\\\\\\\"}}\\\"))\", \"http.response.status\": \"200 OK\"}"
    kind: router.response
  level: INFO
  message: ""
  span:
    apollo_private.duration_ns: "[duration]"
    http.flavor: HTTP/1.1
    http.method: GET
    http.request.method: GET
    http.route: "http://example.com/"
    name: router
    otel.kind: INTERNAL
    trace_id: ""
  spans:
    - apollo_private.duration_ns: "[duration]"
      http.flavor: HTTP/1.1
      http.method: GET
      http.request.method: GET
      http.route: "http://example.com/"
      name: router
      otel.kind: INTERNAL
      trace_id: ""
