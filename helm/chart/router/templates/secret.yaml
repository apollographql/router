{{- if (or (.Values.managedFederation.apiKeyExistingSecret) (.Values.managedFederation.apiKey)) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "router.fullname" . }}
  labels:
    {{- include "router.labels" . | nindent 4 }}
data:
  managedFederationApiKey: {{ default "MISSING" .Values.managedFederation.apiKey | b64enc | quote }}
{{- end }}
