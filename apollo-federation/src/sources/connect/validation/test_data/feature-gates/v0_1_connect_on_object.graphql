extend schema
  @link(url: "https://specs.apollo.dev/federation/v2.10")
  @link(
    url: "https://specs.apollo.dev/connect/v0.1"
    import: ["@source", "@connect"]
  )

type Query {
  products: [Product]
    @connect(http: { GET: "http://localhost:4001/products" }, selection: "id")
}

type Product
  @connect(
    http: { GET: "http://localhost:4001/products", body: "ids: $batch.id" }
    selection: "id"
  ) {
  id: ID!
}
